###############################################################################
#
# IAR C/C++ Compiler V10.30.1.6000 for 8051               11/Dec/2019  17:17:27
# Copyright 2004-2018 IAR Systems AB.
# PC-locked license - IAR Embedded Workbench for 8051
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        D:\Keus_Docs\Z-Stack 3.0.2\Components\keus\keus_memory.c
#    Command line       =  
#        -f C:\Users\Monisha\AppData\Local\Temp\EW24D0.tmp
#        ("D:\Keus_Docs\Z-Stack 3.0.2\Components\keus\keus_memory.c" -D
#        SECURE=1 -D TC_LINKKEY_JOIN -D NV_INIT -D NV_RESTORE -D HAL_KEY=FALSE
#        -D HAL_LCD=FALSE -D HAL_LED=FALSE -D HAL_UART=TRUE -D HAL_UART_ISR=1
#        -D HAL_UART_DMA=2 -D HAL_UART_DMA_RX_MAX=64 -D HAL_UART_DMA_TX_MAX=64
#        -D NWK_MAX_DEVICE_LIST=5 -D NWK_LINK_STATUS_PERIOD=50 -D
#        INT_HEAP_LEN=3172 -D OSC32K_CRYSTAL_INSTALLED=FALSE -D
#        MULTICAST_ENABLED=FALSE -D APS_MAX_GROUPS=10 -D ZCL_BASIC -D
#        ZCL_IDENTIFY -D ZCL_READ -D DISABLE_GREENPOWER_BASIC_PROXY -D
#        KEUS_GPIO_INTERRUPT_HANDLER_DISABLE -lC "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\RouterEB\List" -lA "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\RouterEB\List" --diag_suppress Pe001,Pa010 -o
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\RouterEB\Obj" -e --debug --core=plain --dptr=16,1
#        --data_model=large --code_model=banked
#        --calling_convention=xdata_reentrant --place_constants=data_rom
#        --nr_virtual_regs 16 -f "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\Tools\CC2530DB\f8wRouter.cfg" (-DCPU32MHZ
#        -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
#        -DRTR_NWK) -f "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg" (-DZIGBEEPRO
#        -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0xFFFF
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 -DDEFAULT_KEY={0} -DMAC_MAX_FRAME_SIZE=116
#        -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const __code"
#        -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000
#        -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100 -DREJOIN_POLL_RATE=440
#        -DREJOIN_BACKOFF=900000 -DREJOIN_SCAN=900000 -DENABLE_LED4_DISABLE_S1)
#        -f "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\Tools\CC2530DB\f8wZCL.cfg" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\" -I "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\Source\" -I "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\Source\" -I "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\ZMain\TI2530DB\" -I "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\..\..\Components\hal\include\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\mac\include\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\mac\high_level\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        -
#        bkp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\..\..\Components\mt\" -I "D:\Keus_Docs\Z-Stack
#        3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\..\..\..\..\..\Components\osal\include\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\services\saddr\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\services\sdata\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\af\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\bdb\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\nwk\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\bdb\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\gp\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\sapi\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\sec\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\sys\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\zcl\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\stack\zdo\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\zmac\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\zmac\f8w\" -I
#        "D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp
#        - bkp\CC2530DB\..\..\..\..\..\Components\keus\" -Ohz
#        --require_prototypes)
#    Locale             =  English_USA.1252
#    List file          =  
#        D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\RouterEB\List\keus_memory.lst
#    Object file        =  
#        D:\Keus_Docs\Z-Stack 3.0.2\Projects\zstack\HomeAutomation\GenericApp -
#        bkp\CC2530DB\RouterEB\Obj\keus_memory.r51
#
###############################################################################

D:\Keus_Docs\Z-Stack 3.0.2\Components\keus\keus_memory.c
      1          /*************************************************
      2           * ***********KEUS_MEMORY.C**********************
      3           * **********************************************/
      4          
      5          #include "keus_memory.h"

   \                                 In  segment XDATA_I, align 1, keep-with-next
   \   bool debounce
   \                     debounce:
   \   000000                DS 1
   \   000001                REQUIRE `?<Initializer for debounce>`
   \   000001                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \   bool toggle
   \                     toggle:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \   bool toggle1
   \                     toggle1:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \   bool toggle3
   \                     toggle3:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \   uint8 count
   \                     count:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \   uint8 count1
   \                     count1:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \   uint8 count3
   \                     count3:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
      6          
      7           extern CONFIG_INFO_t config_data;
      8          
      9          
     10          /*******************************************************
     11           * @fn          KeusThemeSwitchMiniMemoryInit
     12           * @brief       nvic memory init
     13           * @return
     14           * @param
     15           * *****************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     16          bool KeusThemeSwitchMiniMemoryInit(void)
   \                     KeusThemeSwitchMiniMemoryInit:
     17          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
     18              //  for (uint8 i = 0; i < CLICK_TYPES; i++)
     19              //  {
     20              //    themeManager.btnThemeMap[i] = 255;
     21              //  }
     22          
     23              uint8 res = osal_nv_item_init(NVIC_MEMORY_POSITION, sizeof(&config_data), (void *)&config_data);
   \   000005                ; Setup parameters for call to function osal_nv_item_init
   \   000005   75....       MOV       ?V0,#config_data & 0xff
   \   000008   75....       MOV       ?V1,#(config_data >> 8) & 0xff
   \   00000B   78..         MOV       R0,#?V0
   \   00000D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000010   7C02         MOV       R4,#0x2
   \   000012   7D00         MOV       R5,#0x0
   \   000014   7A10         MOV       R2,#0x10
   \   000016   7B00         MOV       R3,#0x0
   \   000018   12....       LCALL     `??osal_nv_item_init::?relay`; Banked call to: osal_nv_item_init
   \   00001B   7402         MOV       A,#0x2
   \   00001D   12....       LCALL     ?DEALLOC_XSTACK8
   \   000020   E9           MOV       A,R1
   \   000021   F8           MOV       R0,A
     24          
     25              if (res == SUCCESS || res == NV_ITEM_UNINIT)
   \   000022   6005         JZ        ??KeusThemeSwitchMiniMemoryInit_0
   \   000024   7409         MOV       A,#0x9
   \   000026   68           XRL       A,R0
   \   000027   7004         JNZ       ??KeusThemeSwitchMiniMemoryInit_1
     26              {
     27                  return true;
   \                     ??KeusThemeSwitchMiniMemoryInit_0:
   \   000029   7901         MOV       R1,#0x1
   \   00002B   8002         SJMP      ??KeusThemeSwitchMiniMemoryInit_2
     28              }
     29              else
     30              {
     31                  return false;
   \                     ??KeusThemeSwitchMiniMemoryInit_1:
   \   00002D   7900         MOV       R1,#0x0
     32              }
   \                     ??KeusThemeSwitchMiniMemoryInit_2:
   \   00002F                REQUIRE ?Subroutine0
   \   00002F                ; // Fall through to label ?Subroutine0
     33          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F02         MOV       R7,#0x2
   \   000002   02....       LJMP      ?BANKED_LEAVE_XDATA
     34          /*******************************************************
     35           * @fn      KeusThemeSwitchMiniReadConfigDataIntoMemory
     36           * @brief    
     37           * @return
     38           * @param  
     39           * ****************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     40          bool KeusThemeSwitchMiniReadConfigDataIntoMemory(void)
   \                     KeusThemeSwitchMiniReadConfigDataIntoMemory:
     41          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
     42              uint8 res = osal_nv_read(NVIC_MEMORY_POSITION, 0, sizeof(&config_data), (void *)&config_data);
     43          
     44              if (res == SUCCESS)
   \   000005                ; Setup parameters for call to function osal_nv_read
   \   000005   75....       MOV       ?V0,#config_data & 0xff
   \   000008   75....       MOV       ?V1,#(config_data >> 8) & 0xff
   \   00000B   78..         MOV       R0,#?V0
   \   00000D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000010   75..02       MOV       ?V0,#0x2
   \   000013   75..00       MOV       ?V1,#0x0
   \   000016   78..         MOV       R0,#?V0
   \   000018   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00001B   7C00         MOV       R4,#0x0
   \   00001D   7D00         MOV       R5,#0x0
   \   00001F   7A10         MOV       R2,#0x10
   \   000021   7B00         MOV       R3,#0x0
   \   000023   12....       LCALL     `??osal_nv_read::?relay`; Banked call to: osal_nv_read
   \   000026   7404         MOV       A,#0x4
   \   000028   12....       LCALL     ?DEALLOC_XSTACK8
   \   00002B   E9           MOV       A,R1
   \   00002C   7004         JNZ       ??KeusThemeSwitchMiniReadConfigDataIntoMemory_0
     45              {
     46                  return true;
   \   00002E   7901         MOV       R1,#0x1
   \   000030   8002         SJMP      ??KeusThemeSwitchMiniReadConfigDataIntoMemory_1
     47              }
     48              else
     49              {
     50                  return false;
   \                     ??KeusThemeSwitchMiniReadConfigDataIntoMemory_0:
   \   000032   7900         MOV       R1,#0x0
     51              }
   \                     ??KeusThemeSwitchMiniReadConfigDataIntoMemory_1:
   \   000034   80..         SJMP      ?Subroutine0
     52          }
     53          /********************************************************
     54           * @fn  KeusThemeSwitchMiniWriteConfigDataIntoMemory
     55           * @brief   
     56           * @return
     57           * @param
     58           * *****************************************************/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     59          bool KeusThemeSwitchMiniWriteConfigDataIntoMemory(void)
   \                     KeusThemeSwitchMiniWriteConfigDataIntoMemory:
     60          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV       A,#-0xa
   \   000002   12....       LCALL     ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
     61           uint8 res = osal_nv_write(NVIC_MEMORY_POSITION, 0, sizeof(&config_data), (void *)&config_data);
     62          
     63           if (res == SUCCESS)
   \   000005                ; Setup parameters for call to function osal_nv_write
   \   000005   75....       MOV       ?V0,#config_data & 0xff
   \   000008   75....       MOV       ?V1,#(config_data >> 8) & 0xff
   \   00000B   78..         MOV       R0,#?V0
   \   00000D   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   000010   75..02       MOV       ?V0,#0x2
   \   000013   75..00       MOV       ?V1,#0x0
   \   000016   78..         MOV       R0,#?V0
   \   000018   12....       LCALL     ?PUSH_XSTACK_I_TWO
   \   00001B   7C00         MOV       R4,#0x0
   \   00001D   7D00         MOV       R5,#0x0
   \   00001F   7A10         MOV       R2,#0x10
   \   000021   7B00         MOV       R3,#0x0
   \   000023   12....       LCALL     `??osal_nv_write::?relay`; Banked call to: osal_nv_write
   \   000026   7404         MOV       A,#0x4
   \   000028   12....       LCALL     ?DEALLOC_XSTACK8
   \   00002B   E9           MOV       A,R1
   \   00002C   7004         JNZ       ??KeusThemeSwitchMiniWriteConfigDataIntoMemory_0
     64           {
     65             return true;
   \   00002E   7901         MOV       R1,#0x1
   \   000030   8002         SJMP      ??KeusThemeSwitchMiniWriteConfigDataIntoMemory_1
     66           }
     67           else
     68           {
     69             return false;
   \                     ??KeusThemeSwitchMiniWriteConfigDataIntoMemory_0:
   \   000032   7900         MOV       R1,#0x0
     70           }
   \                     ??KeusThemeSwitchMiniWriteConfigDataIntoMemory_1:
   \   000034   80..         SJMP      ?Subroutine0
     71          }

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for debounce>`:
   \   000000   01           DB 1

   Maximum stack usage in bytes:

   XSTACK Function
   ------ --------
     12   KeusThemeSwitchMiniMemoryInit
       12   -> osal_nv_item_init
     14   KeusThemeSwitchMiniReadConfigDataIntoMemory
       14   -> osal_nv_read
     14   KeusThemeSwitchMiniWriteConfigDataIntoMemory
       14   -> osal_nv_write


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       1  ?<Initializer for debounce>
       5  ?Subroutine0
      47  KeusThemeSwitchMiniMemoryInit
      54  KeusThemeSwitchMiniReadConfigDataIntoMemory
      54  KeusThemeSwitchMiniWriteConfigDataIntoMemory
       1  count
       1  count1
       1  count3
       1  debounce
       1  toggle
       1  toggle1
       1  toggle3
      18  -- Other

 
 160 bytes in segment BANKED_CODE
  18 bytes in segment BANK_RELAYS
   1 byte  in segment XDATA_I
   1 byte  in segment XDATA_ID
   6 bytes in segment XDATA_Z
 
  19 bytes of CODE     memory
 160 bytes of HUGECODE memory
   7 bytes of XDATA    memory

Errors: none
Warnings: none
